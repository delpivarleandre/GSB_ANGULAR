<h1>Consultation de vos fiches de frais</h1>
<br />

<fieldset>
    <legend>Quel fiche souhaitez-vous consulter ?</legend>

    <div class="divRecherche">
        <form [formGroup]="formGroupDate" (ngSubmit)="sendMoisValeur()">
            <mat-form-field>
                <mat-label>Fiche de frais du mois :</mat-label>
                <mat-select formControlName="mois" required>
                    <mat-option *ngFor="let type of moisVisiteur" value="{{type.mois}}">
                        {{type.mois}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <br>
            <button mat-stroked-button type="submit" color="primary" id="ajouter">Valider</button>
        </form>
    </div>
</fieldset>
<br>
<div>
    <span *ngIf="itsTrue">

        <h2>Frais forait</h2>
        <legend>Eléments forfaitisés</legend>

        <table mat-table [dataSource]="ligneFraisForfaitComplet">
            <!-- Item Column -->
            <ng-container matColumnDef="LIBELLE">
                <th mat-header-cell *matHeaderCellDef><strong>Libellé</strong> </th>
                <td mat-cell *matCellDef="let element"> {{element.libelle}} </td>
                <td mat-footer-cell *matFooterCellDef> Accumulation </td>
            </ng-container>

            <ng-container matColumnDef="MONTANT">
                <th mat-header-cell *matHeaderCellDef><strong>Montant</strong>
                </th>
                <td mat-cell *matCellDef="let element"> {{element.montant}} </td>
                <td mat-footer-cell *matFooterCellDef> </td>
            </ng-container>


            <!-- Cost Column -->
            <ng-container matColumnDef="QUANTITE">
                <th mat-header-cell *matHeaderCellDef><strong>Quantite</strong> </th>
                <td mat-cell *matCellDef="let element"> {{element.quantite }} </td>
                <td mat-footer-cell *matFooterCellDef> </td>
            </ng-container>


            <ng-container matColumnDef="TOTAL" class="right">
                <th mat-header-cell *matHeaderCellDef class="right"><strong>Total</strong>
                </th>
                <td mat-cell *matCellDef="let element;" class="right">
                    {{element.total}}
                </td>
                <td mat-footer-cell *matFooterCellDef class="right"> {{getTotalCostFrais() }} </td>
            </ng-container>
            <!-- Disclaimer column -->


            <!-- The table will render two header rows, one data row per data object, and two footer rows. -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="example-first-header-row">
            </tr>

            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <tr mat-footer-row *matFooterRowDef="displayedColumns" class="example-first-footer-row"></tr>
            <tr mat-footer-row class="example-second-footer-row"></tr>
        </table>
        <br>
        <br>
        <h2>Frais hors forait</h2>
        <legend>Eléments non forfaitisés</legend>


        <table mat-table [dataSource]="ligneFraisHorsForfait">
            <!-- Item Column -->
            <ng-container matColumnDef="DATE">
                <th mat-header-cell *matHeaderCellDef><strong>Date</strong> </th>
                <td mat-cell *matCellDef="let element"> {{element.date}} </td>
                <td mat-footer-cell *matFooterCellDef> Total </td>
            </ng-container>

            <ng-container matColumnDef="LIBELLE">
                <th mat-header-cell *matHeaderCellDef><strong>Libellé</strong>
                </th>
                <td mat-cell *matCellDef="let element"> {{element.libelle}} </td>
                <td mat-footer-cell *matFooterCellDef> </td>
            </ng-container>


            <!-- Cost Column -->
            <ng-container matColumnDef="MONTANT" class="right">
                <th mat-header-cell *matHeaderCellDef class="right"><strong>Montant</strong> </th>
                <td mat-cell *matCellDef="let element" class="right"> {{element.montant }} </td>
                <td mat-footer-cell *matFooterCellDef class="right"> {{getTotalCost() }} </td>
            </ng-container>


            <ng-container matColumnDef="MODEPAIEMENT">
                <th mat-header-cell *matHeaderCellDef><strong>Mode de paiement</strong>
                </th>
                <td mat-cell *matCellDef="let element;">
                    {{element.modePaiement}}
                </td>
                <td mat-footer-cell *matFooterCellDef> </td>
            </ng-container>
            <!-- Disclaimer column -->


            <!-- The table will render two header rows, one data row per data object, and two footer rows. -->
            <tr mat-header-row *matHeaderRowDef="displayed" class="example-first-header-row">
            </tr>

            <tr mat-row *matRowDef="let row; columns: displayed;"></tr>

            <tr mat-footer-row *matFooterRowDef="displayed" class="example-first-footer-row"></tr>
            <tr mat-footer-row class="example-second-footer-row"></tr>
        </table>
        <br>
        <br>
    </span>
</div>